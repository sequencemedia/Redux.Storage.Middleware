'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};var _hardStorage=require('../../components/storage/hard-storage');var _hardStorage2=_interopRequireDefault(_hardStorage);var _softStorage=require('../../components/storage/soft-storage');var _softStorage2=_interopRequireDefault(_softStorage);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function initialHardStorageState(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var hardStorage=(0,_hardStorage2.default)();var i=0;var j=hardStorage.length;for(i,j;i<j;i=i+1){var type=hardStorage.key(i);var item=hardStorage.getItem(type);try{var _JSON$parse=JSON.parse(item),meta=_JSON$parse.meta,data=_JSON$parse.data;if((meta||false)instanceof Object){state=_extends({},state,_defineProperty({},type,_extends({meta:_extends({},meta,{type:type})},data?{data:data}:{})));}}catch(e){void e;}}return state;}function initialSoftStorageState(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var softStorage=(0,_softStorage2.default)();var i=0;var j=softStorage.length;for(i,j;i<j;i=i+1){var type=softStorage.key(i);var item=softStorage.getItem(type);try{var _JSON$parse2=JSON.parse(item),meta=_JSON$parse2.meta,data=_JSON$parse2.data;if((meta||false)instanceof Object){state=_extends({},state,_defineProperty({},type,_extends({meta:_extends({},meta,{type:type})},data?{data:data}:{})));}}catch(e){void e;}}return state;}exports.default=function(){return initialSoftStorageState(initialHardStorageState());};