"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _hardStorage=_interopRequireDefault(require("../../components/storage/hard-storage"));var _softStorage=_interopRequireDefault(require("../../components/storage/soft-storage"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};var ownKeys=Object.keys(source);if(typeof Object.getOwnPropertySymbols==='function'){ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable;}));}ownKeys.forEach(function(key){_defineProperty(target,key,source[key]);});}return target;}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function initialHardStorageState(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var hardStorage=(0,_hardStorage.default)();var i=0;var j=hardStorage.length;for(i,j;i<j;i=i+1){var type=hardStorage.key(i);var item=hardStorage.getItem(type);try{var _JSON$parse=JSON.parse(item),meta=_JSON$parse.meta,data=_JSON$parse.data;if((meta||false)instanceof Object){state=_objectSpread({},state,_defineProperty({},type,_objectSpread({meta:_objectSpread({},meta,{type:type})},data?{data:data}:{})));}}catch(e){void e;}}return state;}function initialSoftStorageState(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var softStorage=(0,_softStorage.default)();var i=0;var j=softStorage.length;for(i,j;i<j;i=i+1){var type=softStorage.key(i);var item=softStorage.getItem(type);try{var _JSON$parse2=JSON.parse(item),meta=_JSON$parse2.meta,data=_JSON$parse2.data;if((meta||false)instanceof Object){state=_objectSpread({},state,_defineProperty({},type,_objectSpread({meta:_objectSpread({},meta,{type:type})},data?{data:data}:{})));}}catch(e){void e;}}return state;}var _default=function _default(){return initialSoftStorageState(initialHardStorageState());};exports.default=_default;